{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * VOX-METER.BLOG - Core Script 2026\n * Все модули: Меню, Hero, Swiper, AI Terminal, Forms, Cookies\n */\n\nwindow.addEventListener('load', () => {\n    console.log(\"Система Vox-Meter инициализирована.\");\n\n    // 0. Регистрация плагинов GSAP\n    if (typeof gsap !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n    }\n\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (Lucide)\n    if (window.lucide) {\n        lucide.createIcons();\n    }\n\n    // 2. МОБИЛЬНОЕ МЕНЮ\n    const initMobileMenu = () => {\n        const burger = document.getElementById('burger');\n        const menu = document.getElementById('mobile-menu-overlay');\n        const links = document.querySelectorAll('.mobile-nav__link');\n\n        if (!burger || !menu) return;\n\n        const toggle = () => {\n            burger.classList.toggle('is-active');\n            menu.classList.toggle('is-active');\n            document.body.style.overflow = menu.classList.contains('is-active') ? 'hidden' : '';\n        };\n\n        burger.addEventListener('click', toggle);\n        links.forEach(link => link.addEventListener('click', toggle));\n    };\n\n    // 3. ЭФФЕКТ ХЕДЕРА ПРИ СКРОЛЛЕ\n    const initHeader = () => {\n        const header = document.getElementById('header');\n        if (!header) return;\n        \n        window.addEventListener('scroll', () => {\n            header.classList.toggle('header--scrolled', window.scrollY > 50);\n        });\n    };\n\n    // 4. ГАРАНТИРОВАННАЯ АНИМАЦИЯ HERO\n    const initHeroAnimation = () => {\n        const title = document.querySelector('.animate-title');\n        const fadeElements = document.querySelectorAll('.fade-in-hero');\n\n        if (!title) return;\n\n        // Принудительно показываем заголовок (защита от багов)\n        gsap.set(title, { opacity: 1, visibility: 'visible' });\n\n        const tl = gsap.timeline();\n\n        // Анимация появления заголовка\n        tl.from(title, {\n            y: 40,\n            opacity: 0,\n            duration: 1.2,\n            ease: \"power4.out\",\n            clearProps: \"all\" // Очищает стили GSAP после завершения\n        });\n\n        // Анимация остальных элементов Hero\n        if (fadeElements.length > 0) {\n            tl.to(fadeElements, {\n                y: 0,\n                opacity: 1,\n                duration: 0.8,\n                stagger: 0.15,\n                ease: \"power2.out\"\n            }, \"-=0.6\");\n        }\n    };\n\n    // 5. ИНИЦИАЛИЗАЦИЯ SWIPER (КЕЙСЫ)\n    const initCasesSlider = () => {\n        const sliderEl = document.querySelector('.cases-slider');\n        if (sliderEl && typeof Swiper !== 'undefined') {\n            new Swiper('.cases-slider', {\n                slidesPerView: 1,\n                spaceBetween: 30,\n                loop: true,\n                speed: 800,\n                autoplay: { delay: 4000, disableOnInteraction: false },\n                pagination: { el: '.swiper-pagination', clickable: true },\n                navigation: { \n                    nextEl: '.swiper-button-next', \n                    prevEl: '.swiper-button-prev' \n                },\n                breakpoints: {\n                    768: { slidesPerView: 2 },\n                    1100: { slidesPerView: 3 }\n                }\n            });\n        }\n    };\n\n    // 6. ТЕРМИНАЛ (ИННОВАЦИИ)\n    const initTerminal = () => {\n        const textEl = document.getElementById('ai-typing-text');\n        if (!textEl) return;\n\n        const phrases = [\n            \"Анализирую входящий запрос...\",\n            \"Оптимизация нейронных связей...\",\n            \"Локализация: Франция (EU)...\",\n            \"Vox-Meter AI: Готов к работе.\"\n        ];\n        \n        let pIdx = 0, cIdx = 0, isDeleting = false;\n\n        function type() {\n            const current = phrases[pIdx];\n            if (isDeleting) {\n                textEl.textContent = current.substring(0, cIdx - 1);\n                cIdx--;\n            } else {\n                textEl.textContent = current.substring(0, cIdx + 1);\n                cIdx++;\n            }\n\n            let speed = isDeleting ? 40 : 80;\n\n            if (!isDeleting && cIdx === current.length) {\n                isDeleting = true;\n                speed = 2500; // Пауза в конце фразы\n            } else if (isDeleting && cIdx === 0) {\n                isDeleting = false;\n                pIdx = (pIdx + 1) % phrases.length;\n                speed = 500;\n            }\n\n            setTimeout(type, speed);\n        }\n        type();\n    };\n\n    // 7. ОБЩИЕ АНИМАЦИИ ПОЯВЛЕНИЯ (Bento, Blog)\n    const initScrollReveals = () => {\n        if (typeof gsap === 'undefined' || !ScrollTrigger) return;\n\n        gsap.utils.toArray('.fade-up').forEach(el => {\n            gsap.from(el, {\n                scrollTrigger: {\n                    trigger: el,\n                    start: \"top 90%\",\n                },\n                y: 50,\n                opacity: 0,\n                duration: 1,\n                ease: \"power2.out\"\n            });\n        });\n    };\n\n    // 8. КОНТАКТНАЯ ФОРМА\n    const initForm = () => {\n        const form = document.getElementById('ai-contact-form');\n        const success = document.getElementById('success-message');\n        if (!form) return;\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            const btn = form.querySelector('button');\n            const originalText = btn.innerHTML;\n\n            // Имитация отправки\n            btn.disabled = true;\n            btn.innerHTML = 'Обработка...';\n\n            setTimeout(() => {\n                form.style.display = 'none';\n                if (success) success.style.display = 'flex';\n            }, 1500);\n        });\n    };\n\n    // 9. COOKIE POPUP\n    const initCookies = () => {\n        const popup = document.getElementById('cookie-popup');\n        const btn = document.getElementById('accept-cookies');\n        \n        if (!popup || !btn) return;\n\n        if (!localStorage.getItem('vox_cookies_accepted')) {\n            setTimeout(() => {\n                popup.classList.add('is-show');\n            }, 3000);\n        }\n\n        btn.onclick = () => {\n            localStorage.setItem('vox_cookies_accepted', 'true');\n            popup.classList.remove('is-show');\n        };\n    };\n\n    // ЗАПУСК ВСЕХ МОДУЛЕЙ\n    initMobileMenu();\n    initHeader();\n    initHeroAnimation();\n    initCasesSlider();\n    initTerminal();\n    initScrollReveals();\n    initForm();\n    initCookies();\n});\n\n// Глобальная функция для возврата к форме (используется в HTML кнопкой reset)\nwindow.resetForm = function() {\n    const form = document.getElementById('ai-contact-form');\n    const success = document.getElementById('success-message');\n    if (form && success) {\n        success.style.display = 'none';\n        form.style.display = 'flex';\n        form.reset();\n        form.querySelector('button').disabled = false;\n        form.querySelector('button').innerHTML = 'Запросить доступ';\n    }\n};"],"names":["initMobileMenu","burger","menu","links","toggle","link","initHeader","header","initHeroAnimation","title","fadeElements","tl","initCasesSlider","initTerminal","textEl","phrases","pIdx","cIdx","isDeleting","type","current","speed","initScrollReveals","el","initForm","form","success","e","btn","initCookies","popup"],"mappings":"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"}